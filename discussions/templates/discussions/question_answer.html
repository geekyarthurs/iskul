{% extends 'classroom/base.html' %}
{% block body_block %}

<div class="container" style="margin-top:200px;">
  <div class="card card-body mt-5">
    <h3 class="card-title">
      {{question.question_title}}

      <span class="float-right">{{question.subject.course_name}}</span>
    </h3>

    <hr />
    {% autoescape off %}
    {{question.question_content}}

    {% endautoescape %}

    
    <hr />

    <div>
      Asked By : {{question.posted_by.first_name}} {{question.posted_by.last_name}} - {{question.posted_at}}

      <div class="float-right"></div>
    </div>
  </div>

  <h2 class="text-center mb-3">Answers</h2>

  <a href="{% url 'discussions:answer' pk=question.pk %}" class="btn btn-primary">Answer</a>

  {% for answer in question.answer_set.all %}

  <div class="card my-3">
    <div class="card-body">
      <h5>{{answer.posted_by.first_name}} {{answer.posted_by.last_name}} {% if answer.posted_by.is_student %} (Student) {% else %} (Teacher) {% endif %} </h5>
      <hr />
        {% autoescape on %}
        
        {{answer.answer|safe}}
        
        {% endautoescape %}
      
    </div>
  </div>

  {% endfor %}
</div>
{% endblock body_block %}